version: '3.5'

networks:
  network_public:
    name: "network_public"
    labels:
      - "io.portainer.uac.public=true"

volumes:
  volume_public:
    labels:
      - "io.portainer.uac.public=true"
    name: "volume_public"
  volume_carol_daniel:
    name: "volume_carol_daniel"
  volume_qa:
    name: "volume_qa"
  volume_bob_carol:
    name: "volume_bob_carol"

secrets:
  secret_bob:
    file: ./test.env
    name: "secret_bob"

services:
  container_public:
    command: sleep 3600
    container_name: "container_public"
    image: alpine
    labels:
      - "io.portainer.uac.public=true"
  container_admin:
    command: sleep 3600
    container_name: "container_admin"
    image: alpine
    labels:
      - "io.portainer.uac.users=admin"
  container_bob:
      command: sleep 3600
      container_name: "container_bob"
      image: alpine
      labels:
        - "io.portainer.uac.users=bob"
      volumes:
        - volume_bob_carol:/data
      secrets:
        - secret_bob
  container_carol:
      command: sleep 3600
      container_name: "container_carol"
      image: alpine
      labels:
        - "io.portainer.uac.users=carol"
      volumes:
        - volume_bob_carol:/data
  container_carol_daniel:
    command: sleep 3600
    container_name: "container_carol_daniel"
    image: alpine
    labels:
      - "io.portainer.uac.users=carol,daniel"
    volumes:
      - volume_carol_daniel:/data
  container_qa:
    command: sleep 3600
    container_name: "container_qa"
    image: alpine
    labels:
      - "io.portainer.uac.teams=qa"
    volumes:
      - volume_qa:/data
  container_development_qa:
    command: sleep 3600
    container_name: "container_development_qa"
    image: alpine
    labels:
      - "io.portainer.uac.teams=development,qa"
  container_qa_bob:
    command: sleep 3600
    container_name: "container_qa_bob"
    image: alpine
    labels:
      - "io.portainer.uac.teams=qa"
      - "io.portainer.uac.users=bob"
